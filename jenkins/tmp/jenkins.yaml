    ####################################################################################################
    # Install jenkins
    ####################################################################################################
      
# - name: "Play jenkins Debian on x86_64 "
#   hosts: all
#   tasks:

  
  - name: "Install required system packages"
    apt:
      pkg:
        - apt-transport-https
        - ca-certificates
        - curl
        - gnupg 
        - lsb-release
        - default-jre
        - git
      state: latest
      update_cache: true

  - name: Add Jenkins key
    apt_key:
      url: "https://pkg.jenkins.io/debian-stable/jenkins.io.key"
      state: present

  - name: Add Jenkins repository
    apt_repository:
      repo: 'deb https://pkg.jenkins.io/debian-stable binary/'
      state: present

  - name: "Install jenkins"
    apt:
      pkg:
        - jenkins
      state: latest
      update_cache: true

  - name: "Test key"
    shell: cat /var/lib/jenkins/secrets/initialAdminPassword     
    register: key_file
  - debug:
      msg: "{{ key_file.stdout }}"


